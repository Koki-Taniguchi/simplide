# simplide

軽量なRust製TUIテキストエディタ

## 特徴

- **軽量・高速**: Rust製でパフォーマンスを重視した設計
- **TUI**: ターミナル上で動作、特別なショートカット不要
- **シンタックスハイライト**: Tree-sitterによる多言語対応
- **マウス操作**: クリック、スクロール（トラックパッド対応）
- **ディレクトリブラウザ**: サイドバーでファイル選択
- **タブ機能**: 複数ファイルの同時編集
- **画像表示**: PNG, JPEG, GIF, WebP対応
- **ファイル内検索**: リアルタイム検索とマッチハイライト
- **Git連携**: 現在のブランチ名を表示

## インストール

```bash
cargo build --release
cp ./target/release/simplide ~/.cargo/bin/side
```

## 使い方

```bash
# カレントディレクトリで起動
side

# 特定のディレクトリを開く
side /path/to/directory

# 特定のファイルを開く（親ディレクトリも表示）
side /path/to/file.rs
```

## 操作方法

### キーボード（基本）

| キー | 動作 |
|------|------|
| 矢印キー | カーソル移動 |
| Enter | 改行挿入 |
| Backspace | 前の文字を削除 |
| Delete | 現在の文字を削除 |
| Tab | タブ挿入 |
| Ctrl+S | ファイル保存 |
| Ctrl+C | 終了（未保存時は確認） |
| Ctrl+W | タブを閉じる（未保存時は確認） |
| Ctrl+F | ファイル内検索 |
| Alt+矢印 | スクロール（カーソル移動なし） |

### キーボード（Emacsスタイル）

| キー | 動作 |
|------|------|
| Ctrl+A | 行頭へ移動 |
| Ctrl+E | 行末へ移動 |
| Ctrl+K | 行末まで削除 |
| Ctrl+H | Backspace |
| Ctrl+D | Delete |
| Ctrl+N | 次の行へ |
| Ctrl+P | 前の行へ |
| Ctrl+F | 次の文字へ / 検索開始 |
| Ctrl+B | 前の文字へ |

### 検索モード（Ctrl+F）

| キー | 動作 |
|------|------|
| 文字入力 | 検索クエリ入力 |
| Enter / Ctrl+N / Ctrl+G | 次のマッチへ |
| Shift+Enter / Ctrl+P | 前のマッチへ |
| Ctrl+H / Backspace | 1文字削除 |
| Ctrl+U | 検索クエリをクリア |
| Esc / Ctrl+C | 検索終了 |

### マウス

| 操作 | 動作 |
|------|------|
| クリック | カーソル移動 / ファイル選択 / タブ切り替え |
| スクロール（上下） | 縦スクロール |
| スクロール（左右） | 横スクロール |

### サイドバー

- `..` をクリックで親ディレクトリへ移動（ルート以外）
- フォルダをクリックでディレクトリ移動
- ファイルをクリックで開く（タブに追加）
- マウスホイールでスクロール

## 機能

### エディタ

- 行番号表示
- シンタックスハイライト（Rust, JavaScript, TypeScript, Python, Go, C, C++, JSON, TOML, Markdown, HTML, CSS等）
- 縦横スクロール
- カーソル自動追従
- Unicode対応（日本語等の全角文字）

### タブ

- 複数ファイルの同時編集
- 未保存ファイルに`*`マーク表示
- クリックでタブ切り替え
- Ctrl+Wでタブを閉じる

### 検索

- Ctrl+Fでファイル内検索
- リアルタイム検索（入力中に即時反映）
- マッチ数とインデックス表示
- 現在のマッチを黄色、他のマッチをグレーでハイライト
- Enter/Shift+Enterでマッチ間を移動

### 画像表示

- PNG, JPEG, GIF, WebP形式に対応
- ターミナル内でプレビュー表示

### Git連携

- 現在のブランチ名をエディタタイトルに表示

### パフォーマンス

- ソース・ハイライトキャッシュ
- イベントバッチ処理
- 60fps描画

## 依存ライブラリ

| ライブラリ | 用途 |
|------------|------|
| Ratatui | TUI描画 |
| Crossterm | 端末操作・イベント処理 |
| Ropey | テキストバッファ管理 |
| tree-sitter | シンタックスハイライト |
| ratatui-image | ターミナル画像表示 |

## ライセンス

MIT
